# ================================================================================================
# COREV2 MENTAL HEALTH PLATFORM - PRODUCTION ENVIRONMENT CONFIGURATION
# ================================================================================================
# 
# CRITICAL SECURITY NOTICE:
# - This template contains placeholder values for production secrets
# - NEVER commit actual production secrets to version control
# - Use environment-specific secret management for actual deployment
# - All variables marked with ${VAR} must be replaced with actual values
#
# Last Updated: 2025-01-19
# Version: 4.0.0
# Status: Production Ready
# ================================================================================================

# ============================================================================
# CORE ENVIRONMENT SETTINGS
# ============================================================================
NODE_ENV=production
VITE_BUILD_MODE=production
CI=true

# Server Configuration
VITE_API_BASE_URL=https://api.corev2-mental-health.app
VITE_WEBSOCKET_URL=wss://api.corev2-mental-health.app
PORT=443
HOST=0.0.0.0

# Security - JWT & Session (Use strong, unique secrets in production)
JWT_SECRET=${JWT_SECRET}
JWT_ALGORITHM=RS256
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_PRIVATE_KEY=${JWT_PRIVATE_KEY}
JWT_PUBLIC_KEY=${JWT_PUBLIC_KEY}
SESSION_SECRET=${SESSION_SECRET}
SESSION_NAME=__Host-corev2.sid
SESSION_MAX_AGE=1800000
SESSION_SECURE=true
SESSION_SAME_SITE=strict

# Security - Encryption Keys (Production)
ENCRYPTION_KEY=${ENCRYPTION_KEY}
ENCRYPTION_IV=${ENCRYPTION_IV}
CRYPTO_ALGORITHM=aes-256-gcm
KEY_ROTATION_DAYS=90
KMS_KEY_ID=${AWS_KMS_KEY_ID}

# Security - CORS
CORS_ORIGINS=https://corev2-mental-health.app,https://www.corev2-mental-health.app
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400
CORS_PREFLIGHT_CONTINUE=false

# Security - Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_CRISIS_MAX=100
RATE_LIMIT_CHAT_MAX=60
RATE_LIMIT_UPLOAD_MAX=10
RATE_LIMIT_SKIP_SUCCESSFUL=false
RATE_LIMIT_STORE=redis

# Security - CSP
CSP_REPORT_ONLY=false
CSP_REPORT_URI=https://api.corev2-mental-health.app/api/security/csp-report
CSP_ENABLE_UNSAFE_EVAL=false
CSP_ENABLE_UNSAFE_INLINE=false
CSP_NONCE_ENABLED=true
CSP_UPGRADE_INSECURE_REQUESTS=true

# Security Headers
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
REFERRER_POLICY=strict-origin-when-cross-origin
PERMISSIONS_POLICY_ENABLED=true
EXPECT_CT_ENABLED=true
EXPECT_CT_MAX_AGE=86400

# Auth0 Configuration (Production)
VITE_AUTH0_DOMAIN=${AUTH0_DOMAIN}
VITE_AUTH0_CLIENT_ID=${AUTH0_CLIENT_ID}
VITE_AUTH0_CLIENT_SECRET=${AUTH0_CLIENT_SECRET}
VITE_AUTH0_CALLBACK_URL=https://corev2-mental-health.app/callback
VITE_AUTH0_AUDIENCE=https://api.corev2-mental-health.app

# Database Configuration
DATABASE_URL=${DATABASE_URL}
DATABASE_SSL=true
DATABASE_SSL_REJECT_UNAUTHORIZED=true
DATABASE_POOL_SIZE=20
DATABASE_CONNECTION_TIMEOUT=10000
DATABASE_IDLE_TIMEOUT=10000
DATABASE_MAX_USES=7500

# Redis/Cache Configuration
REDIS_URL=${REDIS_URL}
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_DB=0
REDIS_TLS=true
CACHE_TTL=3600
CACHE_COMPRESSION=true

# Logging & Monitoring
LOG_LEVEL=error
LOG_FORMAT=json
LOG_ALL_REQUESTS=false
LOG_AUTH_EVENTS=true
LOG_DATA_ACCESS=true
LOG_SECURITY_EVENTS=true
LOG_PERFORMANCE=true
LOG_RETENTION_DAYS=2555
LOG_ENCRYPTION=true
LOG_TO_SIEM=true

# Audit & Compliance
AUDIT_ENABLED=true
AUDIT_LOG_PATH=/var/log/corev2/audit
AUDIT_ENCRYPTION=true
COMPLIANCE_REPORTING=true
DATA_RETENTION_DAYS=2555
HIPAA_COMPLIANT=true
GDPR_COMPLIANT=true

# Threat Detection
THREAT_DETECTION_ENABLED=true
SQL_INJECTION_PROTECTION=true
XSS_PROTECTION=true
BRUTE_FORCE_PROTECTION=true
ANOMALY_DETECTION=true
GEO_BLOCKING=CN,RU,KP,IR
RATE_ANOMALY_THRESHOLD=1000
DDoS_PROTECTION=true

# Crisis Detection
CRISIS_DETECTION_ENABLED=true
CRISIS_OVERRIDE_ENABLED=true
CRISIS_HOTLINE=988
CRISIS_TEXT_LINE=741741
CRISIS_ALERT_WEBHOOK=${CRISIS_WEBHOOK_URL}
CRISIS_RESPONSE_TEAM_EMAIL=${CRISIS_TEAM_EMAIL}
CRISIS_ESCALATION_ENABLED=true

# Feature Flags
VITE_ENABLE_AI_CHAT=true
VITE_ENABLE_VIDEO_CHAT=true
VITE_ENABLE_PUSH_NOTIFICATIONS=true
VITE_ENABLE_OFFLINE_MODE=true
VITE_ENABLE_TWO_FACTOR=true
VITE_ENABLE_DEVICE_FINGERPRINTING=true
VITE_ENABLE_BIOMETRIC_AUTH=true

# Production Security Features
ENABLE_WAF=true
ENABLE_CERTIFICATE_PINNING=true
ENABLE_INTRUSION_DETECTION=true
ENABLE_SECURITY_SCANNING=true
ENABLE_VULNERABILITY_MONITORING=true

# Email Configuration (Production)
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=${SMTP_USER}
SMTP_PASS=${SMTP_PASS}
EMAIL_FROM=support@corev2-mental-health.app
EMAIL_ENCRYPTION=true
DKIM_ENABLED=true
SPF_ENABLED=true
DMARC_ENABLED=true

# Push Notifications (Production)
VITE_VAPID_PUBLIC_KEY=${VAPID_PUBLIC_KEY}
VITE_VAPID_PRIVATE_KEY=${VAPID_PRIVATE_KEY}
PUSH_NOTIFICATION_ENABLED=true
PUSH_ENCRYPTION=true

# External Services (Production)
SENTRY_DSN=${SENTRY_DSN}
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
GA_TRACKING_ID=${GA_TRACKING_ID}
STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}
STRIPE_WEBHOOK_SECRET=${STRIPE_WEBHOOK_SECRET}
STRIPE_RESTRICTED_KEY=${STRIPE_RESTRICTED_KEY}

# File Upload
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,application/pdf
UPLOAD_PATH=/secure/uploads
SCAN_UPLOADS=true
QUARANTINE_SUSPICIOUS_FILES=true

# API Security
API_KEY_REQUIRED=true
API_KEY_HEADER=X-API-Key
API_KEY_ROTATION_DAYS=30
INTERNAL_API_KEY=${INTERNAL_API_KEY}
API_RATE_LIMIT=100
API_TIMEOUT=30000

# ============================================================================
# CDN & PERFORMANCE OPTIMIZATION
# ============================================================================
CDN_URL=https://cdn.corev2-mental-health.app
CDN_ENABLED=true
IMAGE_OPTIMIZATION=true
LAZY_LOADING=true
BUNDLE_OPTIMIZATION=true
COMPRESSION_ENABLED=true
PRELOAD_CRITICAL_RESOURCES=true
CACHE_OPTIMIZATION=true

# Performance Monitoring
PERFORMANCE_MONITORING=true
CORE_WEB_VITALS_TRACKING=true
REAL_USER_MONITORING=true
SYNTHETIC_MONITORING=true
PERFORMANCE_BUDGET_ENABLED=true

# Performance Thresholds
PERFORMANCE_THRESHOLD_FCP=2000
PERFORMANCE_THRESHOLD_LCP=3000
PERFORMANCE_THRESHOLD_FID=100
PERFORMANCE_THRESHOLD_CLS=0.1
PERFORMANCE_THRESHOLD_TTFB=800

# Backup & Recovery
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION=true
DISASTER_RECOVERY_ENABLED=true

# PWA Configuration
VITE_PWA_NAME=CoreV2 - Mental Health Support
VITE_PWA_SHORT_NAME=CoreV2
VITE_PWA_THEME_COLOR=#667eea
VITE_PWA_BACKGROUND_COLOR=#ffffff
VITE_PWA_DISPLAY=standalone
VITE_PWA_ORIENTATION=portrait

# Service Worker
VITE_SW_UPDATE_INTERVAL=3600000
VITE_SW_CACHE_NAME=corev2-prod
VITE_SW_ENABLE_BACKGROUND_SYNC=true
VITE_SW_ENABLE_PUSH_SYNC=true
VITE_SW_CACHE_STRATEGY=network-first

# Privacy & Compliance
DATA_MINIMIZATION=true
RIGHT_TO_FORGETTING=true
CONSENT_MANAGEMENT=true
ANONYMIZATION=true
PSEUDONYMIZATION=true
DATA_ENCRYPTION_AT_REST=true
DATA_ENCRYPTION_IN_TRANSIT=true

# Zero Trust Security
ZERO_TRUST_ENABLED=true
DEVICE_FINGERPRINTING=true
CONTINUOUS_VALIDATION=true
RISK_BASED_ACCESS=true
LEAST_PRIVILEGE_ENABLED=true
NETWORK_SEGMENTATION=true

# ============================================================================
# CRISIS MANAGEMENT & SAFETY MONITORING
# ============================================================================
CRISIS_MONITORING_ENABLED=true
CRISIS_REAL_TIME_ALERTS=true
CRISIS_ESCALATION_TIMEOUT=300
CRISIS_RESPONSE_SLA=60
CRISIS_BACKUP_SYSTEMS=true
CRISIS_REDUNDANCY_ENABLED=true

# Crisis Response Team Configuration
CRISIS_PRIMARY_CONTACT=${CRISIS_PRIMARY_CONTACT}
CRISIS_SECONDARY_CONTACT=${CRISIS_SECONDARY_CONTACT}
CRISIS_MANAGER_PHONE=${CRISIS_MANAGER_PHONE}
CRISIS_SUPERVISOR_EMAIL=${CRISIS_SUPERVISOR_EMAIL}

# ============================================================================
# SYSTEM MONITORING & ALERTING
# ============================================================================
MONITORING_ENABLED=true
HEALTH_CHECK_INTERVAL=30
UPTIME_MONITORING=true
AVAILABILITY_TARGET=99.9
RESPONSE_TIME_TARGET=2000

# Alert Thresholds
ALERT_THRESHOLD_CPU=80
ALERT_THRESHOLD_MEMORY=85
ALERT_THRESHOLD_DISK=90
ALERT_THRESHOLD_ERROR_RATE=5
ALERT_THRESHOLD_RESPONSE_TIME=5000

# Alert Channels
ALERT_EMAIL=${ALERT_EMAIL}
ALERT_SMS=${ALERT_SMS}
PAGERDUTY_KEY=${PAGERDUTY_KEY}
SLACK_WEBHOOK=${SLACK_WEBHOOK}
DISCORD_WEBHOOK=${DISCORD_WEBHOOK}

# Advanced Monitoring
APM_ENABLED=true
DISTRIBUTED_TRACING=true
METRICS_COLLECTION=true
LOG_AGGREGATION=true
ERROR_REPORTING=true