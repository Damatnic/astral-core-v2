import{r as e,j as s}from"./react-vendor-IorqdeNj.js";import{C as o}from"./views-2_8WdMi_.js";import{a as t}from"./stores-ClzP1JB8.js";import"./vendor-BRFUAJck.js";import"../../node_modules/@sentry/core/build/esm/utils/openai/index.js";import"../../node_modules/@sentry/core/build/esm/utils/openai/constants.js";import"./components-CJSBVMkT.js";import"./utils-D6DFWjeA.js";import"./crisis-core-DtfOKt0v.js";import"./state-vendor-DKNToSFz.js";const i=()=>{const{user:i}=t(),[r,n]=e.useState(null),[a,d]=e.useState(null);e.useEffect(()=>{if(!r&&i){const e={dilemmaId:`dilemma-${Date.now()}`,messages:[],unread:!1,isTyping:!1,perspective:"seeker",helpSessionId:void 0,helper:void 0};n(e)}},[i,r]),e.useEffect(()=>{if(!a){const e={id:`dilemma-${Date.now()}`,content:"General support conversation",category:"general",timestamp:(new Date).toISOString(),userToken:(null==i?void 0:i.sub)||"",supportCount:0,isSupported:!1,isReported:!1,reportReason:"",status:"active",assignedHelperId:void 0,resolved_by_seeker:!1,requestedHelperId:void 0,summary:void 0,summaryLoading:!1,moderation:void 0,aiMatchReason:void 0};d(e)}},[a,i]);return r&&a?s.jsx(o,{session:r,dilemma:a,onViewHelperProfile:e=>{}}):s.jsx("div",{children:"Loading chat..."})};export{i as default};
