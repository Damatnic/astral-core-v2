const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/views-2_8WdMi_.js","assets/js/react-vendor-IorqdeNj.js","assets/js/vendor-BRFUAJck.js","assets/js/components-CJSBVMkT.js","assets/js/utils-D6DFWjeA.js","assets/js/stores-ClzP1JB8.js","assets/js/state-vendor-DKNToSFz.js","assets/js/crisis-core-DtfOKt0v.js","assets/css/crisis-core-B7KoUTWr.css","assets/css/components-CusHdXJD.css","assets/css/views-zwbYvQHV.css","assets/js/ChatRoute-CjTxCPy9.js","assets/js/HelperDashboardRoute-JFaUB-P9.js","assets/js/HelperProfileRoute-CFcmTuUz.js","assets/js/HelperTrainingRoute-BoCMK-IS.js","assets/js/HelperApplicationRoute-D8ZiCyHZ.js","assets/js/AdminDashboardRoute-C_WzSJBv.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,l=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&o(e,a,t[a]);if(s)for(var a of s(t))i.call(t,a)&&o(e,a,t[a]);return e},c=(e,n)=>t(e,a(n));import{ao as m,ah as d,ap as p,aq as u,ar as h,as as _,at as v,au as j,av as x,aw as y,ax as b,ay as f}from"./components-CJSBVMkT.js";import{c as E,e as w,r as g,j as k,f as L,k as P,N as C,a as A,l as N,B as O}from"./react-vendor-IorqdeNj.js";import{m as T,l as D,n as R,o as I,r as S}from"./utils-D6DFWjeA.js";import{b as z,c as V}from"./crisis-core-DtfOKt0v.js";import"./vendor-BRFUAJck.js";import"../../node_modules/@sentry/core/build/esm/utils/openai/index.js";import"../../node_modules/@sentry/core/build/esm/utils/openai/constants.js";import"./stores-ClzP1JB8.js";import"./state-vendor-DKNToSFz.js";var F,B,M=(F={"assets/js/index-DBhn5R28.js"(e){!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();
/**
     * Analytics Tracking Hook
     * 
     * Provides easy-to-use analytics tracking for components
     * Automatically handles privacy settings and consent
     * 
     * @license Apache-2.0
     */
const t=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.D),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),a=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.P),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),n=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.S),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),s=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.F),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),r=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.d),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),i=g.lazy(()=>m(()=>import("./ChatRoute-CjTxCPy9.js"),__vite__mapDeps([11,1,2,0,3,4,5,6,7,8,9,10]))),o=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.e),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),F=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.f),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),B=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.W),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),M=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.R),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),q=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.g),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),H=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.Q),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),W=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.h),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),U=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),$=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.j),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),K=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.k),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),Q=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.L),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),G=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.l),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),J=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.T),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),X=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.m),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),Y=g.lazy(()=>m(()=>import("./HelperDashboardRoute-JFaUB-P9.js"),__vite__mapDeps([12,1,2,0,3,4,5,6,7,8,9,10]))),Z=g.lazy(()=>m(()=>import("./HelperProfileRoute-CFcmTuUz.js"),__vite__mapDeps([13,1,2,0,3,4,5,6,7,8,9,10]))),ee=g.lazy(()=>m(()=>import("./HelperTrainingRoute-BoCMK-IS.js"),__vite__mapDeps([14,1,2,0,3,4,5,6,7,8,9,10]))),te=g.lazy(()=>m(()=>import("./HelperApplicationRoute-D8ZiCyHZ.js"),__vite__mapDeps([15,1,2,0,3,4,5,6,7,8,9,10]))),ae=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.n),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),ne=g.lazy(()=>m(()=>import("./AdminDashboardRoute-C_WzSJBv.js"),__vite__mapDeps([16,1,2,0,3,4,5,6,7,8,9,10]))),se=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.M),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),re=g.lazy(()=>m(()=>import("./views-2_8WdMi_.js").then(e=>e.o),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),ie=()=>k.jsxs("div",{className:"route-loading",children:[k.jsx(d,{}),k.jsx("p",{children:"Loading page..."})]}),oe=()=>k.jsx(g.Suspense,{fallback:k.jsx(ie,{}),children:k.jsxs(L,{children:[k.jsx(P,{path:"/",element:k.jsx(t,{})}),k.jsx(P,{path:"/about",element:k.jsx($,{})}),k.jsx(P,{path:"/legal",element:k.jsx(Q,{})}),k.jsx(P,{path:"/help",element:k.jsx(K,{})}),k.jsx(P,{path:"/crisis",element:k.jsx(W,{})}),k.jsx(P,{path:"/crisis-resources",element:k.jsx(U,{})}),k.jsx(P,{path:"/dashboard",element:k.jsx(t,{})}),k.jsx(P,{path:"/profile",element:k.jsx(a,{})}),k.jsx(P,{path:"/settings",element:k.jsx(n,{})}),k.jsx(P,{path:"/feed",element:k.jsx(s,{})}),k.jsx(P,{path:"/community",element:k.jsx(r,{})}),k.jsx(P,{path:"/chat",element:k.jsx(i,{})}),k.jsx(P,{path:"/ai-chat",element:k.jsx(o,{})}),k.jsx(P,{path:"/assessments",element:k.jsx(F,{})}),k.jsx(P,{path:"/wellness",element:k.jsx(B,{})}),k.jsx(P,{path:"/wellness-videos",element:k.jsx(X,{})}),k.jsx(P,{path:"/reflections",element:k.jsx(M,{})}),k.jsx(P,{path:"/safety-plan",element:k.jsx(q,{})}),k.jsx(P,{path:"/quiet-space",element:k.jsx(H,{})}),k.jsx(P,{path:"/peer-support",element:k.jsx(G,{})}),k.jsx(P,{path:"/tether",element:k.jsx(J,{})}),k.jsx(P,{path:"/helper/dashboard",element:k.jsx(Y,{})}),k.jsx(P,{path:"/helper/profile",element:k.jsx(Z,{})}),k.jsx(P,{path:"/helper/training",element:k.jsx(ee,{})}),k.jsx(P,{path:"/helper/application",element:k.jsx(te,{})}),k.jsx(P,{path:"/helper/community",element:k.jsx(ae,{})}),k.jsx(P,{path:"/admin",element:k.jsx(ne,{})}),k.jsx(P,{path:"/admin/moderation",element:k.jsx(se,{})}),k.jsx(P,{path:"/admin/analytics",element:k.jsx(re,{})}),k.jsx(P,{path:"*",element:k.jsx(C,{to:"/",replace:!0})})]})}),le=g.createContext(void 0),ce=({children:e})=>{const[t,a]=g.useState(null);return k.jsx(le.Provider,{value:{session:t,setSession:a},children:e})},me=g.createContext(void 0),de=({children:e})=>{const[t,a]=g.useState(null);return k.jsx(me.Provider,{value:{wellnessData:t,setWellnessData:a},children:e})},pe=g.createContext(null),ue=({children:e,onNavigateBack:t,currentPath:a=""})=>{const[n,s]=g.useState(!1),r=g.useRef(new Set),i=Boolean(t&&a&&"/"!==a),o=g.useCallback(()=>{s(!0),document.body.style.overflow="hidden"},[]),l=g.useCallback(()=>{s(!1),document.body.style.overflow=""},[]),c=g.useCallback(()=>{n?l():o()},[n,o,l]),m=g.useCallback(()=>{i&&t&&t()},[i,t]),d=g.useCallback(e=>{r.current.add(e)},[]),u=g.useCallback(e=>{r.current.delete(e)},[]),{ref:h}=p({threshold:50,velocityThreshold:.2,onSwipeRight:e=>{(e.distance>0?0:50)<50&&!n&&o()},onSwipeLeft:()=>{n?l():i&&m()}});g.useEffect(()=>{const e=e=>{"Escape"===e.key&&n&&l()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n,l]),g.useEffect(()=>{const e=e=>{const t=e.target,a=document.querySelector(".sidebar-panel"),s=document.querySelector(".sidebar-trigger");n&&a&&!a.contains(t)&&s&&!s.contains(t)&&l()};if(n)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[n,l]);const _=A.useMemo(()=>({isSidebarOpen:n,openSidebar:o,closeSidebar:l,toggleSidebar:c,canSwipeBack:i,onSwipeBack:m,registerSwipeArea:d,unregisterSwipeArea:u}),[n,o,l,c,i,m,d,u]),v="sidebar-overlay"+(n?" swipe-active":""),j="sidebar-panel"+(n?" swipe-active":"");return k.jsx(pe.Provider,{value:_,children:k.jsxs("div",{ref:h,className:"swipe-navigation-container",children:[e,k.jsx("button",{className:v,onClick:l,onKeyDown:e=>{"Enter"===e.key&&l()},"aria-hidden":!n,"aria-label":"Close navigation menu",style:{border:"none",padding:0,background:"transparent"}}),k.jsxs("nav",{className:j,"aria-label":"Navigation menu","aria-hidden":!n,children:[k.jsxs("div",{className:"sidebar-header",children:[k.jsx("h2",{children:"Navigation"}),k.jsx("button",{className:"sidebar-close-btn touch-optimized",onClick:l,"aria-label":"Close navigation menu",children:"âœ•"})]}),k.jsx("div",{className:"sidebar-content"})]})]})})},he=({children:e})=>{const[t,a]=A.useState(!1),[n,s]=A.useState(!1);return A.useEffect(()=>{const e=()=>{s(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),k.jsxs("div",{className:"app-layout",children:[n&&k.jsx("button",{className:"mobile-menu-toggle",onClick:()=>{a(!t)},"aria-label":"Toggle navigation menu",children:k.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:k.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})}),k.jsx("div",{className:t?"sidebar-wrapper mobile-open":"sidebar-wrapper",children:k.jsx(x,{})}),t&&k.jsx("div",{className:"sidebar-overlay active",onClick:()=>a(!1),"aria-hidden":"true"}),k.jsx("main",{className:"app-content",children:e}),k.jsx(z,{}),k.jsx(y,{}),k.jsx(b,{}),k.jsx(f,{}),k.jsx(V,{})]})},_e=()=>{const{trackEvent:e}=((e={})=>{const{trackPageViews:t=!0,trackInteractions:a=!0,trackErrors:n=!0,componentName:s,featureName:r}=e,i=E(),o=w(),m=g.useRef();return g.useEffect(()=>{if(!t)return;const e=i.pathname+i.search;e!==m.current&&(m.current=e,T.trackPageView(e,s||r))},[i,o,t,s,r]),{trackEvent:g.useCallback((e,t)=>{a&&T.trackEvent(e,c(l({},null==t?void 0:t.properties),{componentName:s,featureName:r,path:i.pathname,category:(null==t?void 0:t.category)||"user_action",sensitivityLevel:(null==t?void 0:t.sensitivityLevel)||"public"}))},[a,s,r,i.pathname]),trackFeatureUsage:g.useCallback((e,t)=>{T.trackFeatureUsage(e,"usage",c(l({},t),{componentName:s,path:i.pathname}))},[s,i.pathname]),trackInteraction:g.useCallback((e,t,n)=>{a&&T.trackEvent(`${t}_${e}`,{element:e,action:t,value:n,componentName:s,featureName:r,path:i.pathname,category:"user_action",sensitivityLevel:"public"})},[a,s,r,i.pathname]),trackFormSubmit:g.useCallback((e,t,a)=>{T.trackEvent("form_submit",c(l({formName:e,success:t?"true":"false"},a),{componentName:s,path:i.pathname,category:"user_action",sensitivityLevel:"private"}))},[s,i.pathname]),trackCrisisEvent:g.useCallback((e,t)=>{T.trackEvent(`crisis_${e}`,c(l({},t),{componentName:s,path:i.pathname,timestamp:(new Date).toISOString(),category:"crisis_intervention",sensitivityLevel:"crisis"}))},[s,i.pathname]),trackWellnessActivity:g.useCallback((e,t,a)=>{T.trackEvent("wellness_activity",{activity:e,duration:t,outcome:a,componentName:s,path:i.pathname,category:"wellness_tracking",sensitivityLevel:"sensitive"})},[s,i.pathname]),trackPerformance:g.useCallback((e,t,a)=>{T.trackEvent("performance_metric",{metric:e,value:t,unit:a,componentName:s,path:i.pathname,category:"performance",sensitivityLevel:"public"})},[s,i.pathname]),trackError:g.useCallback((e,t)=>{if(!n)return;const a=e instanceof Error?e.message:e,o=e instanceof Error?e.stack:void 0;T.trackEvent("error",c(l({message:a,stack:o},t),{componentName:s,featureName:r,path:i.pathname,category:"error",sensitivityLevel:"private"}))},[n,s,r,i.pathname]),trackExperiment:g.useCallback((e,t)=>{T.trackEvent("experiment_exposure",{experimentName:e,variant:t,componentName:s,path:i.pathname,category:"feature_usage",sensitivityLevel:"public"})},[s,i.pathname]),trackSearch:g.useCallback((e,t,a)=>{const n=btoa(e).substring(0,10);T.trackEvent("search",{queryHash:n,queryLength:e.length,resultCount:t,clickedResult:a,componentName:s,path:i.pathname,category:"user_action",sensitivityLevel:"private"})},[s,i.pathname]),trackTiming:g.useCallback((e,t,a)=>{T.trackEvent("timing",{timingCategory:e,timingVariable:t,duration:a,componentName:s,path:i.pathname,timestamp:new Date})},[s,i.pathname])}})({componentName:"App"});return g.useEffect(()=>{e("app_initialized",{category:"performance",properties:{timestamp:Date.now(),userAgent:navigator.userAgent,platform:navigator.platform}})},[e]),g.useEffect(()=>{const e=document.querySelector('meta[name="viewport"]');e&&e.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes"),document.body.classList.add("astral-core-app");const t=navigator.platform.toLowerCase();return t.includes("mac")?document.body.classList.add("platform-mac"):t.includes("win")?document.body.classList.add("platform-windows"):t.includes("linux")&&document.body.classList.add("platform-linux"),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&document.body.classList.add("is-mobile"),()=>{document.body.classList.remove("astral-core-app","platform-mac","platform-windows","platform-linux","is-mobile")}},[]),k.jsx(u,{children:k.jsx(h,{children:k.jsx(_,{children:k.jsx(ve,{})})})})},ve=()=>k.jsx(v,{children:k.jsx(j,{children:k.jsx(ce,{children:k.jsx(de,{children:k.jsx(ue,{children:k.jsx(he,{children:k.jsx(oe,{})})})})})})});try{R()}catch(xe){throw D.error("Environment validation failed:",xe,"main"),document.body.innerHTML='\n      <div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; font-family: system-ui;">\n        <div style="text-align: center; padding: 2rem;">\n          <h1>Configuration Error</h1>\n          <p>We\'re experiencing technical difficulties. Please try again later.</p>\n          <p style="color: #666; font-size: 0.9rem;">If this problem persists, please contact support.</p>\n        </div>\n      </div>\n    ',xe}D.warn("Sentry DSN not configured. Error tracking disabled.",void 0,"errorTracking"),I.initialize();const je=document.getElementById("root");if(!je)throw new Error('Failed to find root element. Make sure index.html contains a div with id="root"');N.createRoot(je).render(k.jsx(A.StrictMode,{children:k.jsx(O,{children:k.jsx(_e,{})})})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{S()}),m(()=>{return e=null,t=null,a=function*(){const{onCLS:e,onINP:t,onFCP:a,onLCP:n,onTTFB:s}=yield import("./vendor-BRFUAJck.js").then(e=>e.w);return{onCLS:e,onINP:t,onFCP:a,onLCP:n,onTTFB:s}},new Promise((n,s)=>{var r=e=>{try{o(a.next(e))}catch(t){s(t)}},i=e=>{try{o(a.throw(e))}catch(t){s(t)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(r,i);o((a=a.apply(e,t)).next())});var e,t,a},__vite__mapDeps([2,1])).then(({onCLS:e,onINP:t,onFCP:a,onLCP:n,onTTFB:s})=>{e(e=>D.debug("CLS metric",e,"web-vitals")),t(e=>D.debug("INP metric",e,"web-vitals")),a(e=>D.debug("FCP metric",e,"web-vitals")),n(e=>D.debug("LCP metric",e,"web-vitals")),s(e=>D.debug("TTFB metric",e,"web-vitals"))}),"undefined"!=typeof window&&window.addEventListener("load",()=>{const e=document.createElement("div");e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.className="sr-only",e.textContent="Astral Core Mental Health Support Platform has loaded and is ready to use.",document.body.appendChild(e),setTimeout(()=>{document.body.removeChild(e)},1e3)}),window.addEventListener("unhandledrejection",e=>{D.error("Unhandled promise rejection:",e.reason,"global"),window.Sentry&&window.Sentry.captureException(e.reason),e.preventDefault()})}},function(){return B||(0,F[n(F)[0]])((B={exports:{}}).exports,B),B.exports});export default M();
