.crisis-alert{position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}.crisis-alert--show{opacity:1;visibility:visible}.crisis-alert--hide{opacity:0;visibility:hidden}.crisis-alert__backdrop{position:absolute;inset:0;background-color:#000000b3;cursor:pointer}.crisis-alert__container{position:relative;max-width:500px;width:90%;max-height:90vh;overflow-y:auto;background:#fff;border-radius:12px;box-shadow:0 20px 60px #0000004d;animation:slideIn .3s ease-out}@keyframes slideIn{0%{transform:translateY(-20px) scale(.95);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}.crisis-alert__header{display:flex;align-items:flex-start;gap:12px;padding:24px;border-bottom:1px solid #e5e7eb}.crisis-alert__icon-container{flex-shrink:0}.crisis-alert__icon{font-size:24px;display:flex;align-items:center;justify-content:center}.crisis-alert__icon--pulse{animation:pulse 2s infinite}@keyframes pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.8;transform:scale(1.1)}}.crisis-alert__title-container{flex:1;min-width:0}.crisis-alert__title{margin:0 0 4px;font-size:18px;font-weight:700;line-height:1.3;color:#111827}.crisis-alert__timestamp{display:flex;align-items:center;gap:4px;font-size:12px;color:#6b7280}.crisis-alert__close{flex-shrink:0;background:none;border:none;padding:4px;cursor:pointer;color:#6b7280;font-size:20px;line-height:1;border-radius:4px;transition:background-color .2s ease,color .2s ease}.crisis-alert__close:hover{background-color:#f3f4f6;color:#374151}.crisis-alert__close:focus{outline:2px solid #3b82f6;outline-offset:2px}.crisis-alert__content{padding:0 24px 20px}.crisis-alert__message{margin:0;font-size:16px;line-height:1.5;color:#374151}.crisis-alert__section-title{margin:0 0 12px;font-size:16px;font-weight:600;color:#111827}.crisis-alert__emergency-section{padding:20px 24px;background-color:#fef2f2;border-left:4px solid #dc2626}.crisis-alert__emergency-contacts{display:flex;flex-direction:column;gap:12px}.crisis-alert__emergency-contact{display:flex;align-items:center;gap:12px;padding:16px;background:#fff;border:2px solid transparent;border-radius:8px;cursor:pointer;text-align:left;transition:all .2s ease;box-shadow:0 2px 4px #0000001a}.crisis-alert__emergency-contact:hover{border-color:#3b82f6;box-shadow:0 4px 8px #00000026}.crisis-alert__emergency-contact:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.crisis-alert__emergency-contact--call{border-left:4px solid #dc2626}.crisis-alert__emergency-contact--text{border-left:4px solid #ea580c}.crisis-alert__emergency-contact--chat{border-left:4px solid #059669}.crisis-alert__contact-icon{flex-shrink:0;font-size:20px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:#f9fafb;border-radius:50%}.crisis-alert__contact-info{flex:1;min-width:0}.crisis-alert__contact-name{font-weight:600;color:#111827;font-size:14px;margin-bottom:2px}.crisis-alert__contact-number{font-weight:700;color:#3b82f6;font-size:16px;margin-bottom:2px}.crisis-alert__contact-description{font-size:12px;color:#6b7280;margin-bottom:2px}.crisis-alert__contact-availability{font-size:11px;color:#059669;font-weight:500}.crisis-alert__contact-external{flex-shrink:0;opacity:.5;transition:opacity .2s ease}.crisis-alert__emergency-contact:hover .crisis-alert__contact-external{opacity:1}.crisis-alert__actions-section{padding:20px 24px;border-top:1px solid #e5e7eb}.crisis-alert__actions-list{margin:0;padding:0;list-style:none}.crisis-alert__action-item{display:flex;align-items:flex-start;gap:8px;padding:8px 0;font-size:14px;line-height:1.5;color:#374151}.crisis-alert__action-item:before{content:"•";color:#dc2626;font-weight:700;flex-shrink:0;margin-top:2px}.crisis-alert__chat-section{padding:20px 24px;border-top:1px solid #e5e7eb;background-color:#f8fafc}.crisis-alert__chat-button{display:flex;align-items:center;justify-content:center;gap:8px;width:100%;padding:12px 16px;background-color:#3b82f6;color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s ease}.crisis-alert__chat-button:hover{background-color:#2563eb}.crisis-alert__chat-button:focus{outline:none;box-shadow:0 0 0 3px #3b82f64d}.crisis-alert__resources-section{padding:20px 24px;border-top:1px solid #e5e7eb}.crisis-alert__resources-list{margin:0;padding:0;list-style:none}.crisis-alert__resource-item{display:flex;align-items:flex-start;gap:8px;padding:6px 0;font-size:14px;line-height:1.5;color:#374151}.crisis-alert__resource-item:before{content:"→";color:#059669;font-weight:700;flex-shrink:0;margin-top:2px}.crisis-alert__helper-footer{padding:20px 24px;background-color:#fef3c7;border-top:1px solid #e5e7eb}.crisis-alert__helper-note{font-size:14px;line-height:1.5;color:#92400e}.crisis-alert__footer{padding:20px 24px;border-top:1px solid #e5e7eb;display:flex;justify-content:flex-end}.crisis-alert__dismiss-button{padding:10px 20px;background-color:#6b7280;color:#fff;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s ease}.crisis-alert__dismiss-button:hover{background-color:#4b5563}.crisis-alert__dismiss-button:focus{outline:none;box-shadow:0 0 0 3px #6b72804d}.crisis-alert--critical .crisis-alert__header{border-left:6px solid #dc2626;background-color:#fef2f2}.crisis-alert--critical .crisis-alert__title{color:#dc2626}.crisis-alert--high .crisis-alert__header{border-left:6px solid #ea580c;background-color:#fff7ed}.crisis-alert--high .crisis-alert__title{color:#ea580c}.crisis-alert--medium .crisis-alert__header{border-left:6px solid #d97706;background-color:#fffbeb}.crisis-alert--medium .crisis-alert__title{color:#d97706}.crisis-alert--low .crisis-alert__header{border-left:6px solid #059669;background-color:#ecfdf5}.crisis-alert--low .crisis-alert__title{color:#059669}@media (max-width: 640px){.crisis-alert__container{width:95%;max-height:95vh;margin:0 auto}.crisis-alert__header{padding:20px}.crisis-alert__content{padding:0 20px 16px}.crisis-alert__emergency-section,.crisis-alert__actions-section,.crisis-alert__chat-section,.crisis-alert__resources-section,.crisis-alert__helper-footer,.crisis-alert__footer{padding:16px 20px}.crisis-alert__emergency-contact{padding:12px}.crisis-alert__title{font-size:16px}}@media (prefers-contrast: high){.crisis-alert__container,.crisis-alert__emergency-contact,.crisis-alert__chat-button{border:2px solid #000}}@media (prefers-reduced-motion: reduce){.crisis-alert{transition:none}.crisis-alert__container,.crisis-alert__icon--pulse{animation:none}}.crisis-help-widget{position:fixed;bottom:20px;right:20px;z-index:9999;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.crisis-help-button{background:linear-gradient(135deg,#ff6b6b,#ff8787);border:none;border-radius:30px;padding:12px 24px;display:flex;align-items:center;gap:8px;cursor:pointer;box-shadow:0 4px 20px #ff6b6b4d;transition:all .3s ease;animation:subtle-float 3s ease-in-out infinite}.crisis-help-button:hover{transform:translateY(-2px);box-shadow:0 6px 30px #ff6b6b66}.crisis-help-widget.pulse .crisis-help-button{animation:pulse-alert 2s ease-in-out}.crisis-icon{font-size:20px}.crisis-text{color:#fff;font-weight:600;font-size:16px}.crisis-help-panel{position:fixed;bottom:20px;right:20px;width:400px;max-width:calc(100vw - 40px);max-height:600px;background:#fff;border-radius:16px;box-shadow:0 10px 40px #00000026;overflow:hidden;animation:slideUp .3s ease-out}.crisis-header{background:linear-gradient(135deg,#667eea,#764ba2);padding:16px 20px;display:flex;justify-content:space-between;align-items:center}.crisis-header h2{color:#fff;margin:0;font-size:20px;font-weight:600}.close-button{background:#fff3;border:none;color:#fff;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s;font-size:18px}.close-button:hover{background:#ffffff4d}.crisis-content{padding:20px;max-height:500px;overflow-y:auto}.urgency-selector{margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid #e5e7eb}.urgency-question{color:#374151;font-weight:500;margin-bottom:12px}.urgency-buttons{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.urgency-btn{padding:10px 16px;border:2px solid #e5e7eb;background:#fff;border-radius:8px;cursor:pointer;transition:all .2s;font-size:14px;font-weight:500}.urgency-btn.low{color:#059669}.urgency-btn.low.active,.urgency-btn.low:hover{background:#ecfdf5;border-color:#10b981;color:#059669}.urgency-btn.medium{color:#d97706}.urgency-btn.medium.active,.urgency-btn.medium:hover{background:#fef3c7;border-color:#f59e0b;color:#d97706}.urgency-btn.high{color:#dc2626}.urgency-btn.high.active,.urgency-btn.high:hover{background:#fee2e2;border-color:#ef4444;color:#dc2626}.resources-list{display:flex;flex-direction:column;gap:12px;margin-bottom:20px}.resource-card{background:#f9fafb;border-radius:12px;padding:16px;transition:all .2s}.resource-card:hover{background:#f3f4f6;transform:translate(-2px)}.resource-card.emergency{background:#fee2e2}.resource-card.emergency:hover{background:#fecaca}.resource-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.resource-header h3{margin:0;font-size:16px;font-weight:600;color:#111827}.availability{background:#10b981;color:#fff;padding:2px 8px;border-radius:12px;font-size:11px;font-weight:600}.resource-description{color:#6b7280;font-size:14px;margin:0 0 12px}.resource-actions{display:flex;gap:8px}.action-btn{flex:1;padding:10px 16px;border:none;border-radius:8px;font-weight:600;font-size:14px;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:6px}.call-btn{background:#3b82f6;color:#fff}.call-btn:hover{background:#2563eb;transform:translateY(-1px)}.text-btn{background:#8b5cf6;color:#fff}.text-btn:hover{background:#7c3aed;transform:translateY(-1px)}.crisis-footer{padding-top:16px;border-top:1px solid #e5e7eb}.safety-note,.emergency-note{font-size:13px;line-height:1.5;margin:8px 0}.safety-note{color:#4b5563}.emergency-note{color:#dc2626;font-weight:500}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes subtle-float{0%,to{transform:translateY(0)}50%{transform:translateY(-4px)}}@keyframes pulse-alert{0%,to{transform:scale(1)}25%,75%{transform:scale(1.05)}50%{transform:scale(1.1)}}@media (max-width: 480px){.crisis-help-panel{width:calc(100vw - 20px);right:10px;bottom:10px;max-height:80vh}.urgency-buttons{grid-template-columns:1fr}.crisis-help-button{padding:10px 20px}}.crisis-help-widget:focus-within{outline:2px solid #3b82f6;outline-offset:2px}.crisis-content::-webkit-scrollbar{width:6px}.crisis-content::-webkit-scrollbar-track{background:#f3f4f6;border-radius:3px}.crisis-content::-webkit-scrollbar-thumb{background:#9ca3af;border-radius:3px}.crisis-content::-webkit-scrollbar-thumb:hover{background:#6b7280}.crisis-support-widget{background:linear-gradient(135deg,#fff8fbfa,#f8fafffa);border:1px solid rgba(245,87,108,.1);padding:2rem;border-radius:24px;box-shadow:0 20px 60px #f5576c14;margin-bottom:2rem;position:relative;overflow:hidden}.crisis-support-widget:before{content:"";position:absolute;top:-50%;right:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(245,87,108,.03) 0%,transparent 70%);animation:gentlePulse 8s ease-in-out infinite}@keyframes gentlePulse{0%,to{transform:scale(1);opacity:.5}50%{transform:scale(1.1);opacity:.3}}.widget-header{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem;position:relative;z-index:1}.pulse-indicator{position:relative;width:20px;height:20px}.pulse-dot{position:absolute;width:12px;height:12px;background:#4caf50;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%)}.pulse-dot:before,.pulse-dot:after{content:"";position:absolute;width:100%;height:100%;border-radius:50%;border:2px solid #4caf50;top:50%;left:50%;transform:translate(-50%,-50%);animation:pulse 2s ease-out infinite}.pulse-dot:after{animation-delay:1s}@keyframes pulse{0%{transform:translate(-50%,-50%) scale(1);opacity:1}to{transform:translate(-50%,-50%) scale(3);opacity:0}}.widget-title{display:flex;align-items:center;gap:.5rem;font-size:1.75rem;font-weight:600;color:#2c3e50;margin:0}.widget-icon{width:32px;height:32px;color:#e74c3c;animation:heartbeat 2s ease-in-out infinite}@keyframes heartbeat{0%,to{transform:scale(1)}25%,75%{transform:scale(1.05)}}.affirmation-banner{background:linear-gradient(135deg,#667eea1a,#764ba21a);border:1px solid rgba(102,126,234,.2);border-radius:16px;padding:1.25rem;margin-bottom:2rem;cursor:pointer;transition:all .3s ease;position:relative;z-index:1}.affirmation-banner:hover{transform:translateY(-2px);box-shadow:0 8px 20px #667eea26}.affirmation-text{font-size:1.1rem;color:#2c3e50;text-align:center;margin:0 0 .5rem;font-weight:500;line-height:1.5}.affirmation-hint{display:block;text-align:center;font-size:.75rem;color:#7f8c8d;opacity:.7;font-style:italic}.quick-help-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem;position:relative;z-index:1}.quick-help-btn{display:flex;align-items:center;gap:1rem;padding:1.25rem;background:#fff;border:2px solid transparent;border-radius:16px;cursor:pointer;transition:all .3s ease;position:relative;animation:slideInUp .5s ease-out both;text-align:left;width:100%;font-family:inherit}@keyframes slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.quick-help-btn:hover{transform:translateY(-3px);box-shadow:0 10px 30px #0000001a}.quick-help-btn.priority{background:linear-gradient(135deg,#e74c3c0d,#f5576c0d);border-color:#e74c3c33}.quick-help-btn.priority:hover{background:linear-gradient(135deg,#e74c3c1a,#f5576c1a);border-color:#e74c3c4d}.quick-help-btn.call .btn-icon{color:#e74c3c}.quick-help-btn.text .btn-icon{color:#3498db}.quick-help-btn.exercise .btn-icon{color:#9b59b6}.quick-help-btn.navigate .btn-icon{color:#27ae60}.btn-icon{font-size:1.5rem;flex-shrink:0}.btn-icon svg{width:28px;height:28px}.btn-content{flex:1}.btn-content h3{margin:0 0 .25rem;font-size:1rem;font-weight:600;color:#2c3e50}.btn-content p{margin:0;font-size:.85rem;color:#7f8c8d}.urgent-badge{position:absolute;top:.5rem;right:.5rem;background:linear-gradient(135deg,#e74c3c,#f5576c);color:#fff;padding:.25rem .5rem;border-radius:20px;font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.grounding-overlay{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:10000;animation:fadeIn .3s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.grounding-modal{background:#fff;border-radius:24px;padding:2rem;max-width:500px;width:90%;animation:slideInScale .4s ease-out}@keyframes slideInScale{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.grounding-modal h3{margin:0 0 1.5rem;text-align:center;color:#2c3e50;font-size:1.5rem}.grounding-step{display:flex;gap:1.5rem;align-items:center;margin-bottom:2rem}.step-icon{font-size:3rem;animation:bounce 1s ease-in-out infinite}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.step-content{flex:1}.step-content h4{margin:0 0 .5rem;color:#2c3e50;font-size:1.25rem}.step-content p{margin:0 0 1rem;color:#5a6c7d;line-height:1.5}.step-counter{display:flex;gap:.5rem}.count-dot{width:12px;height:12px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;animation:popIn .3s ease-out both}.count-dot:nth-child(1){animation-delay:.1s}.count-dot:nth-child(2){animation-delay:.2s}.count-dot:nth-child(3){animation-delay:.3s}.count-dot:nth-child(4){animation-delay:.4s}.count-dot:nth-child(5){animation-delay:.5s}@keyframes popIn{0%{transform:scale(0)}to{transform:scale(1)}}.grounding-actions{display:flex;gap:1rem;justify-content:center}.next-step-btn,.complete-btn,.close-btn{padding:.75rem 1.5rem;border:none;border-radius:25px;font-weight:600;cursor:pointer;transition:all .3s ease;font-family:inherit}.next-step-btn,.complete-btn{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.next-step-btn:hover,.complete-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea4d}.close-btn{background:#ecf0f1;color:#7f8c8d}.close-btn:hover{background:#d5dbdd}.breathing-mini-widget{background:linear-gradient(135deg,#3498db1a,#9b59b61a);border-radius:16px;padding:2rem;margin:1rem 0;text-align:center;position:relative;z-index:1}.breathing-animation{margin-bottom:1rem}.breath-circle{width:100px;height:100px;background:linear-gradient(135deg,#3498db,#9b59b6);border-radius:50%;margin:0 auto 1rem;animation:breathe 8s ease-in-out infinite}@keyframes breathe{0%,to{transform:scale(1)}25%{transform:scale(1.3)}50%{transform:scale(1.3)}75%{transform:scale(1)}}.breath-instruction{color:#5a6c7d;font-size:1rem;margin:0}.close-exercise{padding:.5rem 1rem;background:#fff;border:1px solid #dfe6e9;border-radius:20px;cursor:pointer;transition:all .3s ease;font-family:inherit}.close-exercise:hover{background:#f8f9fa}.remember-section{background:linear-gradient(135deg,#2ecc710d,#3498db0d);border:1px solid rgba(46,204,113,.2);border-radius:16px;padding:1rem 1.25rem;position:relative;z-index:1}.remember-text{display:flex;align-items:center;gap:.75rem;margin:0;color:#27ae60;font-size:.95rem;font-weight:500;line-height:1.5}.remember-icon{width:20px;height:20px;flex-shrink:0}[data-theme=dark] .crisis-support-widget{background:linear-gradient(135deg,#22272efa,#1c2128fa);border-color:#f5576c33}[data-theme=dark] .widget-title{color:#cdd9e5}[data-theme=dark] .affirmation-banner{background:linear-gradient(135deg,#58a6ff1a,#7d61ff1a);border-color:#58a6ff33}[data-theme=dark] .affirmation-text{color:#cdd9e5}[data-theme=dark] .quick-help-btn{background:#22272ecc;color:#cdd9e5}[data-theme=dark] .quick-help-btn:hover{background:#22272e}[data-theme=dark] .btn-content h3{color:#cdd9e5}[data-theme=dark] .btn-content p{color:#8b949e}[data-theme=dark] .grounding-modal{background:#1c2128;color:#cdd9e5}[data-theme=dark] .remember-section{background:linear-gradient(135deg,#2ecc710d,#58a6ff0d);border-color:#2ecc7133}@media (max-width: 768px){.crisis-support-widget{padding:1.5rem}.widget-title{font-size:1.5rem}.quick-help-grid{grid-template-columns:1fr}.grounding-modal{padding:1.5rem}.grounding-step{flex-direction:column;text-align:center}}
