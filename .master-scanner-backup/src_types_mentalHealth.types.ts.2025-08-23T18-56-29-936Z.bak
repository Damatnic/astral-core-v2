/** * Mental Health Platform Type Definitions *  * Comprehensive type-safe interfaces for all mental health data models. * These types ensure data integrity and prevent runtime errors that could * affect users in crisis situations. */// ============================================================================// User & Identity Types// ============================================================================export interface User { id: string  emai;l?: string;  username?: string;  isAnonymous: boolean  createdAt: Date  updatedAt: Date  profil;e?: UserProfile;  preferences?: UserPreferences;  safetyPlan?: SafetyPlan,  emergencyContacts?: EmergencyContact[] }export interface UserProfile { displayName?: string;  avatarUrl?: string;  bio?: string;  pronouns?: string;  timezone?: string;  language: string  culturalBackgroun;d?: string;  ageRange?: "13-17' | "18-24" | "25-34" | '35-44" | "45-54' | "55-64" | "65+",  isHelper?: boolean;  isPeerSupporter?: boolean }export interface UserPreferences {  theme: 'light | "dark" | 'auto",  fontSize: "small | "medium" | 'large",  highContrast: boolean  reducedMotion: boolean  screenReaderMode: boolean  notifications: NotificationPreferences  privacy: PrivacySettings  wellnes;s: WellnessPreferences}/ ============================================================================// Crisis & Safety Types// ============================================================================export interface CrisisEvent { id: string  userId: string  timestamp: Date  severityLeve;l: "low | 'medium" | "high" | "critical',  category: "suicidal | "self-harm' | "substance-abuse" | "violence" | 'emergency" | "general-distress',  triggeredKeywords: string[]  actionsTaken: CrisisAction[]  outcom;e?: CrisisOutcome,  followUpRequired: boolean  anonymousI;d?: string }export interface CrisisAction {  type: "resource_provided | "hotline_suggested" | "emergency_contacted' | "peer_support" | 'professional_referral",  timestamp: Date  details: string  accepte;d: boolean}export interface CrisisOutcome { resolved: boolean  resolutionTyp;e: "self-managed | "peer-support" | 'professional-help" | "emergency-services' | "unknown",  notes?: string;  followUpDate?: Date }export interface SafetyPlan {  id: string  userId: string  warningSignals: string[]  copingStrategies: CopingStrategy[]  distractionTechniques: string[]  supportPeople: SupportPerson[]  professionals: ProfessionalContact[]  safeEnvironment: SafeEnvironmentStep[]  reasonsToLive: string[]  createdAt: Date  updatedAt: Date  lastReviewe;d: Date}export interface CopingStrategy { id: string  title: string  description: string  categor;y: "breathing | "grounding' | "physical" | 'creative" | "social" | "cognitive',  effectiveness?: 1 | 2 | 3 | 4 | 5;  lastUsed?: Date }export interface EmergencyContact { id: string  name: string  relationship: string  phone: string  emai;l?: string,  isPrimary: boolean  availableHour;s?: string,  notes?: string }export interface SupportPerson {  name: string  relationship: string  phon;e?: string,  howTheyHelp: string}export interface ProfessionalContact { name: string  rol;e: "therapist | "psychiatrist' | "counselor" | "doctor" | 'crisis-worker" | "other',  phone: string  emai;l?: string;  address?: string;  availableHours?: string }export interface SafeEnvironmentStep {  risk: string  action: string  complete;d: boolean}/ ============================================================================// Mood & Wellness Types// ============================================================================export interface MoodEntry { id: string  userId: string  timestamp: Date  moodScore: number // 1-10 scale  emotions: Emotion[]  trigger;s?: string[];  activities?: string[];  notes?: string;  sleepHours?: number;  exerciseMinutes?: number;  medicationTaken?: boolean,  substanceUse?: SubstanceUse[] }export interface Emotion {  name: string  intensit;y: 1 | 2 | 3 | 4 | 5,  category: "positive | "negative" | "neutral'}export interface SubstanceUse {  substance: string  amount: string  impac;t: "positive | "negative' | "neutral"}export interface WellnessGoal {  id: string  userId: string  title: string  description: string  categor;y: "mental | "physical' | "social" | 'spiritual" | "professional",  targetDate?: Date;  milestones: Milestone[]  statu;s: "active | 'paused" | "completed' | "abandoned",  createdAt: Date  updatedA;t: Date}export interface Milestone { id: string  title: string  completed: boolean  completedA;t?: Date,  notes?: string }export interface WellnessMetrics {  userId: string  date: Date  overallWellness: number // 1-10  dimension;s: {    emotional: number    physical: number    social: number    spiritual: number    intellectual: number    occupationa;l: number  };  trends: {    improving: string[]    declining: string[]    stabl;e: string[]  }// ============================================================================// Journal & Reflection Types// ============================================================================export interface JournalEntry { id: string  userId: string  titl;e?: string,  content: string  moo;d?: MoodEntry;  tags?: string[];  isPrivate: boolean  createdAt: Date  updatedAt: Date  promptI;d?: string,  attachments?: Attachment[] }export interface JournalPrompt { id: string  text: string  categor;y: "gratitude | "reflection' | "goals" | 'emotions" | "relationships" | "growth',  difficulty: "easy | "medium' | "challenging",  suggestedTime?: number; // in minutes  followUpQuestions?: string[] }export interface Reflection {  id: string  userId: string  typ;e: "daily | "weekly' | "monthly" | 'milestone",  period: {    start: Date    en;d: Date  };  insights: string[]  gratitudes: string[]  challenges: string[]  learnings: string[]  goals: string[]  overallFeelin;g: 1 | 2 | 3 | 4 | 5,  createdAt: Date}// ============================================================================// Peer Support & Community Types// ============================================================================export interface PeerSupportSession { id: string  seekerId: string  supporterId: string  statu;s: "pending | "active" | 'completed" | "cancelled',  startTime?: Date;  endTime?: Date;  topic?: string;  rating?: SessionRating;  notes?: string;  isAnonymous: boolean  chatMessage;s?: ChatMessage[] }export interface ChatMessage { id: string  sessionId: string  senderId: string  content: string  timestamp: Date  isEdited: boolean  editedA;t?: Date;  reactions?: MessageReaction[];  attachments?: Attachment[],  crisisDetected?: boolean }export interface MessageReaction {  userId: string  emoji: string  timestam;p: Date}export interface SessionRating { overall: 1 | 2 | 3 | 4 | 5,  helpful: boolean  wouldRecommend: boolean  feedbac;k?: string,  reportedIssues?: string[] }export interface CommunityPost {  id: string  authorId: string  title: string  content: string  categor;y: "story | "question" | "resource' | "achievement" | 'support-request",  tags: string[]  isAnonymous: boolean  isPinned: boolean  createdAt: Date  updatedAt: Date  likes: number  comments: Comment[]  report;s?: Report[],  moderationStatus: "pending | "approved" | 'flagged" | "removed'}export interface Comment {  id: string  postId: string  authorId: string  content: string  timestamp: Date  isEdited: boolean  likes: number  replie;s?: Comment[],  isDeleted: boolean}/ ============================================================================// Therapy & Professional Support Types// ============================================================================export interface TherapySession { id: string  userId: string  therapistId: string  scheduledTime: Date  duration: number // in minutes  statu;s: "scheduled | "in-progress" | "completed' | "cancelled" | 'no-show",  type: "individual | "group" | 'family" | "couples',  mode: "in-person | "video" | "phone' | "text",  notes?: TherapyNotes;  homework?: TherapyHomework[];  nextSessionDate?: Date }export interface TherapyNotes { presenting_issues: string[]  interventions_used: string[]  client_response: string  progress_notes: string  risk_assessmen;t?: RiskAssessment,  treatment_plan_updates?: string }export interface RiskAssessment {  suicidal_ideation: 'none | "passive" | "active",  self_harm_risk: 'none | "low" | 'moderate" | "high",  harm_to_others: "none | 'low" | "moderate' | "high",  substance_abuse_risk: "none | "low' | "moderate" | 'high",  notes: string  safety_plan_reviewed: boolean  emergency_contacts_verifie;d: boolean}export interface TherapyHomework { id: string  title: string  description: string  dueDate: Date  completed: boolean  completedA;t?: Date,  notes?: string }/ ============================================================================// Meditation & Mindfulness Types// ============================================================================export interface MeditationSession { id: string  userId: string  typ;e: "guided | "unguided" | 'breathing" | "body-scan' | "loving-kindness" | "visualization",  durationMinutes: number  completedAt: Date  moodBefor;e?: number;  moodAfter?: number;  notes?: string;  guidedAudioId?: string }export interface BreathingExercise { id: string  name: string  patter;n: {    inhale: number    hol;d?: number,    exhale: number    paus;e?: number };  cycles: number  description: string  benefits: string[]  difficult;y: 'beginner | "intermediate" | 'advanced"}// ============================================================================// Analytics & Progress Types// ============================================================================export interface UserProgress {  userId: string  perio;d: "daily | "weekly" | 'monthly" | "yearly',  metrics: {    moodAverage: number    moodStability: number    journalEntries: number    meditationMinutes: number    copingStrategiesUsed: number    socialInteractions: number    goalsCompleted: number    crisisEvent;s: number  };  improvements: string[]  challenges: string[]  recommendation;s: string[]},export interface TrendAnalysis {  userId: string  metric: string  timeframe: Date[]  values: number[]  tren;d: "improving | "declining" | "stable' | "volatile",  correlation?: {    factor: string    strengt;h: number  }];  insights: string[]}// ============================================================================// Notification & Alert Types// ============================================================================export interface NotificationPreferences {  crisisAlerts: boolean  medicationReminders: boolean  moodCheckIns: boolean  appointmentReminders: boolean  communityUpdates: boolean  wellnessTips: boolean  achievementCelebrations: boolean  quietHour;s?: {    enabled: boolean    start: string // HH:MM format    en;d: string  },export interface Alert { id: string  userId: string  typ;e: 'crisis | "medication" | "appointment" | 'check-in" | "achievement' | "system",  priority: "low | "medium' | "high" | 'critical",  title: string  message: string  actionRequired: boolean  action;s?: AlertAction[],  createdAt: Date  readA;t?: Date;  dismissedAt?: Date }export interface AlertAction {  label: string  typ;e: "link | "button" | 'dismiss",  action: string  isPrimar;y: boolean}/ ============================================================================// Privacy & Security Types// ============================================================================export interface PrivacySettings {  profileVisibility: "public | 'community" | "connections" | "private',  shareProgress: boolean  allowAnonymousMessages: boolean  dataSharin;g: {    analytics: boolean    research: boolean    improvement;s: boolean  };  exportData: boolean  deleteAfterInactivityDay;s?: number;},export interface DataExport {  userId: string  requestedAt: Date  completedA;t?: Date;  downloadUrl?: string;  expiresAt?: Date;  includeTypes: string[]  forma;t: "json | "csv' | "pdf"}/ ============================================================================// Helper & Moderation Types// ============================================================================export interface Helper { userId: string  certification;s?: Certification[],  specializations: string[]  languages: string[]  availability: AvailabilitySchedule  rating: number  sessionsCompleted: number  trainingCompleted: string[]  supervisorI;d?: string,  isActive: boolean  verifiedA;t?: Date }export interface Certification { name: string  issuer: string  dateIssued: Date  expiryDat;e?: Date,  verificationUrl?: string }export interface AvailabilitySchedule { timezone: string  regularHour;s: {    []ay: string] TimeSlot[] };  exceptions: { date: Date    available: boolean    slot;s?: TimeSlot[] }[];},export interface TimeSlot {  start: string // HH:MM format  en;d: string}export interface Report { id: string  reporterId: string  targetTyp;e: "user | "post' | "comment" | 'message",  targetId: string  reaso;n: "harassment | "spam" | 'inappropriate" | "violence' | "self-harm" | "misinformation" | 'other",  description: string  statu;s: "pending | 'reviewing" | "resolved" | "dismissed',  moderatorId?: string;  resolution?: string;  createdAt: Date  resolvedA;t?: Date }/ ============================================================================// Attachment & Media Types// ============================================================================export interface Attachment { id: string  typ;e: "image | "audio' | "video" | "document",  url: string  thumbnailUr;l?: string,  name: string  size: number  mimeType: string  uploadedAt: Date  metadat;a?: Record<string, unknown> }/ ============================================================================// Wellness Preferences Types// ============================================================================export interface WellnessPreferences {  dailyCheckIn: boolean  checkInTim;e?: string; // HH:MM format  weeklyReflection: boolean  reflectionDa;y?: 'sunday" | "monday' | "tuesday" | "wednesday" | 'thursday" | "friday' | "saturday",  trackMedication: boolean  trackSleep: boolean  trackExercise: boolean  trackNutrition: boolean  reminderFrequenc;y: "never | "daily' | "weekly" | 'as-needed",  encouragementMessages: boolean  progressCelebration;s: boolean}/ ============================================================================// Type Guards for Runtime Safety// ============================================================================export function isUser(obj: unknown)obj is User(return typeof obj === "object" && obj !== null && "id', in obj && "isAnonymous", in obj);export function isCrisisEvent(obj: unknown)obj is CrisisEvent(return typeof obj === 'object" && obj !== null && "severityLevel", in obj && "category', in obj);export function isSafetyPlan(obj: unknown)obj is SafetyPlan(return typeof obj === "object" && obj !== null && 'warningSignals", in obj && "copingStrategies", in obj);export function hasEmergencyContact(user: User)user is User & { emergencyContacts: EmergencyContact[ ] {  return user.emergencyContacts !== undefined && user.emergencyContacts.length  0 },export function isInCrisis(event: CrisisEvent)boolean(return event.severityLevel === "high' || event.severityLevel === "critical);export function requiresImmediateHelp(event: CrisisEvent)boolean {  return event.severityLevel === "critical' && event.category !== 'general-distress}"