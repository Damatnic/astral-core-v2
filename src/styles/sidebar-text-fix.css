/* =========================================
   SIDEBAR TEXT CUTOFF FIX
   Ensures all sidebar text is fully visible
   ========================================= */

/* Fix nav-label text overflow and cutoff - PROPERLY */
.nav-label {
  flex: 1;
  text-align: left;
  white-space: normal !important; /* Allow wrapping for long text */
  word-wrap: break-word !important; /* Break long words if needed */
  line-height: 1.3 !important; /* Good line height for wrapped text */
  padding-right: 12px !important; /* Ensure space from edge */
  min-width: 0 !important; /* Allow flex item to shrink */
}

/* Ensure nav-link has proper spacing WITHOUT cutting text */
.nav-link {
  display: flex !important;
  align-items: center !important;
  padding: 0.875rem 1.25rem !important; /* Good padding */
  width: 100% !important;
  box-sizing: border-box !important;
  gap: 0.875rem !important; /* Space between icon and text */
  min-height: 44px !important; /* Minimum height for touch */
}

/* Ensure nav-item doesn't cause overflow */
.nav-item {
  width: 100% !important;
  box-sizing: border-box !important;
  margin: 0.25rem 0 !important; /* Vertical margin only */
}

/* Sidebar nav container adjustments */
.sidebar-nav {
  padding: 0.75rem 0 !important; /* Vertical padding only */
  width: 100% !important;
  box-sizing: border-box !important;
}

/* Icon sizing to ensure consistent layout */
.nav-link svg,
.nav-icon {
  flex-shrink: 0 !important; /* Prevent icon from shrinking */
  width: 20px !important;
  height: 20px !important;
  min-width: 20px !important; /* Ensure minimum width */
}

/* Badge positioning fix */
.nav-badge {
  margin-left: auto !important; /* Push to the right */
  flex-shrink: 0 !important; /* Prevent badge from shrinking */
  margin-right: 0.5rem !important; /* Add right margin */
}

/* Sidebar width adjustments to accommodate content */
.sidebar {
  width: 280px !important; /* Ensure adequate width */
  min-width: 280px !important;
  max-width: 280px !important;
}

/* For smaller screens, use a more compact layout */
@media (max-width: 1400px) {
  .sidebar {
    width: 260px !important;
    min-width: 260px !important;
    max-width: 260px !important;
  }

  .nav-label {
    font-size: 0.875rem !important; /* Smaller font on smaller screens */
  }

  .nav-link {
    padding: 0.75rem 0.875rem !important; /* Reduced padding */
  }
}

/* For very long labels, show tooltip on hover */
.nav-link {
  position: relative !important;
}

.nav-link[title]:hover::after {
  content: attr(title);
  position: absolute;
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  margin-left: 10px;
  background: rgba(31, 41, 55, 0.95);
  color: white;
  padding: 0.5rem 0.75rem;
  border-radius: 6px;
  font-size: 0.875rem;
  white-space: nowrap;
  z-index: 1000;
  pointer-events: none;
  opacity: 0;
  animation: tooltipFadeIn 0.3s ease forwards;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

@keyframes tooltipFadeIn {
  to {
    opacity: 1;
  }
}

/* Collapsed sidebar handling */
.sidebar.collapsed .nav-label {
  display: none !important; /* Hide labels when collapsed */
}

.sidebar.collapsed .nav-link {
  justify-content: center !important;
  padding: 0.875rem !important;
}

.sidebar.collapsed {
  width: 80px !important;
  min-width: 80px !important;
  max-width: 80px !important;
}

/* Mobile specific fixes */
@media (max-width: 768px) {
  /* On mobile, allow text to wrap if needed */
  .mobile-sidebar .nav-label {
    white-space: normal !important;
    line-height: 1.3 !important;
    padding-right: 1rem !important;
  }

  .mobile-sidebar .nav-link {
    padding: 1rem 1.25rem !important; /* More padding on mobile for touch */
    min-height: 48px !important; /* Touch-friendly height */
  }
}

/* Dark mode adjustments */
[data-theme="dark"] .nav-link[title]:hover::after {
  background: rgba(17, 24, 39, 0.95);
  border: 1px solid rgba(71, 85, 105, 0.5);
}

/* Ensure section titles don't get cut off */
.nav-section-title {
  padding: 0.5rem 1rem !important;
  margin: 0.5rem 0.5rem 0.25rem !important;
  font-size: 0.75rem !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
  color: var(--text-secondary) !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

/* Fix for specific problematic items */
.nav-link:has(.nav-label:contains("My Wellness Dashboard")) {
  position: relative !important;
}

/* Ensure proper text rendering */
.nav-label {
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
  text-rendering: optimizeLegibility !important;
}
