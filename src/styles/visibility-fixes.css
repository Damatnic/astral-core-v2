/* Visibility and Readability Fixes - Maintaining calming colors, fixing contrast and positioning */

/* ========== Preserve Calming Backgrounds ========== */

/* DO NOT override the beautiful gradients - just ensure readability */
* {
  --soft-overlay: rgba(
    255,
    255,
    255,
    0.05
  ); /* Very subtle overlay for readability if needed */
}

/* Ensure inputs have soft, not harsh backgrounds */
input,
textarea,
select {
  background: rgba(255, 255, 255, 0.1) !important; /* Very soft white overlay */
  backdrop-filter: blur(10px);
  color: var(--text-primary) !important;
}

input:focus,
textarea:focus,
select:focus {
  background: rgba(
    255,
    255,
    255,
    0.15
  ) !important; /* Slightly more visible on focus */
  color: var(--text-primary) !important;
}

/* ========== Fix Text Contrast Issues ========== */

/* Ensure text is readable WITHOUT forcing specific colors that break the theme */
/* Let the enhanced-design-system.css handle the colors */

/* Fix text on gradient backgrounds */
[class*="gradient"] *,
[style*="gradient"] * {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* White text on colored backgrounds needs shadow */
.app-button-primary,
.btn-primary,
button[class*="primary"],
.badge,
.tag {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* Fix specific problem areas */
.text-white {
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
}

.text-secondary {
  color: #6b7280 !important; /* Ensure secondary text is readable */
}

/* Fix placeholder text */
::placeholder {
  color: #9ca3af !important;
  opacity: 1 !important;
}

/* ========== Floating Button Styling (positioning handled by floating-button-layout.css) ========== */

/* Get Help Now Button - Visual Styling Only */
.help-now-button {
  background: linear-gradient(135deg, #ef4444 0%, #f87171 100%) !important;
  color: white !important;
  border: none !important;
  border-radius: 28px !important;
  padding: 12px 24px !important;
  font-weight: 600 !important;
  font-size: 0.95rem !important;
  box-shadow:
    0 4px 12px rgba(239, 68, 68, 0.3),
    0 0 40px rgba(239, 68, 68, 0.1) !important;
  cursor: pointer !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
  animation: helpPulse 2s ease-in-out infinite !important;
}

@keyframes helpPulse {
  0%,
  100% {
    transform: scale(1);
    box-shadow:
      0 4px 12px rgba(239, 68, 68, 0.3),
      0 0 40px rgba(239, 68, 68, 0.1);
  }
  50% {
    transform: scale(1.02);
    box-shadow:
      0 6px 16px rgba(239, 68, 68, 0.4),
      0 0 60px rgba(239, 68, 68, 0.15);
  }
}

.help-now-button:hover {
  transform: translateY(-2px) scale(1.05) !important;
  box-shadow:
    0 8px 20px rgba(239, 68, 68, 0.4),
    0 0 80px rgba(239, 68, 68, 0.2) !important;
}

.help-now-button::before {
  content: "ðŸ†˜";
  font-size: 1.1rem;
}

/* ========== Remove ALL White Background Overrides ========== */
/* Let the existing calming gradients from enhanced-design-system.css work */

/* Code blocks should remain dark and calming */
pre {
  background: linear-gradient(
    135deg,
    rgba(31, 41, 55, 0.98) 0%,
    rgba(17, 24, 39, 0.95) 100%
  ) !important;
}

pre code {
  color: #e5e7eb !important; /* Light color for dark background */
  background: transparent !important;
}

/* ========== Fix Text Over Images/Gradients ========== */

/* Add text shadow to text over images */
[style*="background-image"] *,
.hero-section *,
.banner * {
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* Ensure readability on gradient buttons */
.app-button,
.btn,
button {
  font-weight: 500 !important;
  letter-spacing: 0.025em !important;
}

/* Z-index hierarchy is now handled by floating-button-layout.css */

/* ========== Improve Overall Readability ========== */

/* Increase line height for better readability */
p,
li,
td {
  line-height: 1.7 !important;
}

/* Improve link visibility */
a {
  color: #6366f1 !important;
  font-weight: 500 !important;
  text-decoration: underline !important;
  text-decoration-color: rgba(99, 102, 241, 0.3) !important;
  text-underline-offset: 2px !important;
}

a:hover {
  color: #4f46e5 !important;
  text-decoration-color: rgba(99, 102, 241, 0.6) !important;
}

/* Improve button text readability */
button,
.btn,
.app-button {
  min-height: 40px !important;
  font-size: 0.95rem !important;
}

/* ========== Dark Mode Adjustments ========== */

/* Keep dark mode subtle and calming - no harsh overrides */
[data-theme="dark"] input,
[data-theme="dark"] textarea,
[data-theme="dark"] select {
  background: rgba(17, 24, 39, 0.3) !important; /* Very subtle dark overlay */
  backdrop-filter: blur(10px);
  color: var(--text-primary) !important;
}

/* Mobile positioning is now handled by floating-button-layout.css */

/* ========== Ensure No Text is Invisible ========== */

/* Only fix text if it's actually invisible - don't override theme colors */

/* Ensure all disabled elements are visible */
:disabled {
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

/* Fix selection highlighting */
::selection {
  background: rgba(99, 102, 241, 0.2) !important;
  color: #1f2937 !important;
}

/* ========== Add Get Help Now Button to Page ========== */
/* This CSS expects the button to be added to the DOM */
.add-help-button::after {
  content: "";
  position: fixed;
  bottom: 120px;
  right: 24px;
  width: auto;
  height: auto;
  padding: 12px 24px;
  background: linear-gradient(135deg, #ef4444 0%, #f87171 100%);
  color: white;
  border-radius: 28px;
  font-weight: 600;
  cursor: pointer;
  z-index: 9990;
}
